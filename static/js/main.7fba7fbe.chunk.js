(this["webpackJsonpshower-frontend"]=this["webpackJsonpshower-frontend"]||[]).push([[0],{27:function(e,t,a){e.exports=a.p+"static/media/music-note.e6b145c4.png"},39:function(e,t,a){e.exports=a.p+"static/media/shower.a13cc0c5.png"},46:function(e,t,a){e.exports=a(61)},51:function(e,t,a){},61:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(20),o=a.n(l),c=(a(51),a(7)),s=a(8),i=a(10),u=a(9),m=a(21),p=a(5),h=a(64),d=a(65),f=a(39),g=a.n(f),E=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(h.a,{expand:"lg",style:{background:"#191e3e"}},r.a.createElement(h.a.Brand,{href:""},r.a.createElement(d.a.Link,null,r.a.createElement(m.b,{to:"/"},r.a.createElement("img",{src:g.a,alt:"logo"})))),r.a.createElement(h.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(h.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(d.a,{className:"ml-auto"},r.a.createElement(d.a.Item,null,r.a.createElement(d.a.Link,null,r.a.createElement(m.b,{to:"/playlist"},"Playlist"))),r.a.createElement(d.a.Item,null,r.a.createElement(d.a.Link,null,r.a.createElement(m.b,{to:"/about"},"About"))))))}}]),a}(n.Component),b=a(22),y=a.n(b),v=a(26),w=a(29),S=a(27),O=a.n(S),k=a(19),j=a(23),x=a(28),P=a(15),C=a(13),L=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).playSong=function(){if(!1===e.state.loading&&null===e.state.ctx){var t,a=new AudioContext;e.setState({ctx:a}),e.setState({loading:!0}),fetch("https://shower-backend.herokuapp.com/play?song=".concat(e.props.song.song_name)).then((function(e){return e.arrayBuffer()})).then((function(e){return a.decodeAudioData(e)})).then((function(e){t=e})).then((function(){var n=a.createBufferSource();n.buffer=t,n.connect(a.destination),!1===e.state.play&&(n.start(a.currentTime),e.setState({play:!0})),e.setState({loading:!1})})).catch((function(t){e.setState({loading:!1}),alert(t)}))}else{var n=e.state.ctx;"running"===n.state?(n.suspend(),e.setState({play:!1})):"suspended"===n.state&&(n.resume(),e.setState({play:!0}))}},e.addToPlayList=Object(v.a)(y.a.mark((function t(){var a,n,r,l;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=[],n={id:e.props.song.song_id,name:e.props.song.song_name,artist:e.props.song.artist_name},null==(r=JSON.parse(window.localStorage.getItem("PlayList")))?(a.push(n),window.localStorage.setItem("PlayList",JSON.stringify(a))):(l=!1,window.localStorage.clear("PlayList"),r.forEach((function(e){e.id===n.id&&(l=!0),a.push(e)})),!1===l?(a.push(n),alert("Song Added!")):alert("Its Already There"),window.localStorage.setItem("PlayList",JSON.stringify(a)));case 4:case"end":return t.stop()}}),t)}))),e.state={loading:!1,play:!1,ctx:null},e}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(k.a,null,r.a.createElement(x.a,null,r.a.createElement(j.a,{md:10,xs:8},r.a.createElement("img",{src:O.a,alt:"",align:"left"}),r.a.createElement("h5",null,"\xa0 ",this.props.song.song_name),r.a.createElement("p",null,"\xa0 ",this.props.song.artist_name)),r.a.createElement(j.a,{md:2,xs:4},r.a.createElement(P.a,{variant:"outline-info",onClick:this.playSong,disabled:this.state.loading},this.state.play?r.a.createElement(C.d,null):r.a.createElement(C.e,null)),"\u2002",r.a.createElement(P.a,{variant:"outline-success",title:"Add To Playlist",onClick:this.addToPlayList},r.a.createElement(C.f,null)))),r.a.createElement("hr",null)))}}]),a}(n.Component),I=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).state={songData:null},fetch("https://shower-backend.herokuapp.com/songs").then(function(){var t=Object(v.a)(y.a.mark((function t(a){var n,l;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.json();case 2:n=t.sent,l=n.map((function(e){return r.a.createElement(L,{key:e.song_id,song:e})})),e.setState({songData:l});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),e}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(w.a,null,r.a.createElement("h1",null,"Welcome To Shower",this.props.key)),this.state.songData)}}]),a}(n.Component),A=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).playSong=function(){if(!1===e.state.loading&&null===e.state.ctx){var t,a=new AudioContext;e.setState({ctx:a}),e.setState({loading:!0}),fetch("https://shower-backend.herokuapp.com/play?song=".concat(e.props.song.name)).then((function(e){return e.arrayBuffer()})).then((function(e){return a.decodeAudioData(e)})).then((function(e){t=e})).then((function(){var n=a.createBufferSource();n.buffer=t,n.connect(a.destination),!1===e.state.play&&(n.start(a.currentTime),e.setState({play:!0})),e.setState({loading:!1})})).catch((function(t){e.setState({loading:!1}),alert(t)}))}else{var n=e.state.ctx;"running"===n.state?(n.suspend(),e.setState({play:!1})):"suspended"===n.state&&(n.resume(),e.setState({play:!0}))}},e.removeFromPlaylist=function(){var t=[],a=JSON.parse(window.localStorage.getItem("PlayList"));console.log(a.length);for(var n=0;n<=a.length;n++)if(a[n].id===e.props.song.id){a.splice(n,1),console.log(a),a.forEach((function(e){t.push(e)})),window.localStorage.clear("PlayList"),window.localStorage.setItem("PlayList",JSON.stringify(t));break}window.location.reload()},e.state={loading:!1,play:!1,ctx:null},e}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(k.a,null,r.a.createElement(x.a,null,r.a.createElement(j.a,{md:10,xs:8},r.a.createElement("img",{src:O.a,alt:"",align:"left"}),r.a.createElement("h5",null,"\xa0 ",this.props.song.name),r.a.createElement("p",null,"\xa0 ",this.props.song.artist)),r.a.createElement(j.a,{md:2,xs:4},r.a.createElement(P.a,{variant:"outline-info",onClick:this.playSong},this.state.play?r.a.createElement(C.d,null):r.a.createElement(C.e,null)),"\u2002",r.a.createElement(P.a,{variant:"outline-danger",title:"Remove From Playlist",onClick:this.removeFromPlaylist},r.a.createElement(C.c,null)))),r.a.createElement("hr",null)))}}]),a}(n.Component),J=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).componentDidMount=function(){var t=JSON.parse(window.localStorage.getItem("PlayList"));if(null!==t){var a=t.map((function(e){return r.a.createElement(A,{key:e.id,song:e})}));e.setState({songs:a})}},e.state={songs:null},e}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.state.songs)}}]),a}(n.Component),T=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(w.a,null,r.a.createElement("h1",null,"About Page")),r.a.createElement(k.a,null,r.a.createElement("b",null,"This app was made in ReactJS and uses a REST API that uses the ExpressJS framework along with Postgres with Sequelize ORM for database. "),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(P.a,{variant:"dark",href:"https://github.com/DhavalKotak/"},r.a.createElement(C.a,{color:"white"})," Profile"),"\u2002",r.a.createElement(P.a,{variant:"success",href:"https://github.com/DhavalKotak/shower-frontend"},r.a.createElement(C.b,{color:"white"})," Repository")),r.a.createElement("br",null))}}]),a}(n.Component),F=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,{basename:window.location.pathname||""},r.a.createElement(E,null),r.a.createElement("br",null),r.a.createElement(p.c,null,r.a.createElement(p.a,{exact:!0,path:"/",component:I}),r.a.createElement(p.a,{path:"/playlist",component:J}),r.a.createElement(p.a,{path:"/about",component:T}))))}}]),a}(n.Component);o.a.render(r.a.createElement(F,null),document.getElementById("root"))}},[[46,1,2]]]);
//# sourceMappingURL=main.7fba7fbe.chunk.js.map